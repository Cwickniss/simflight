function cost = get_lqr_K(Q)

  Q(1) = 1e-10; % ignore x-position
  Q(2) = 1e-10; % ignore y-position
  Q(3) = 1e-10; % ignore z-position


  A = [          0         0         0         0    0.0000    0.0000    1.0000    0.0000    0.0000    0.0000    0.0000    0.0000
         0         0         0    0.0000         0   -0.0000         0    1.0000         0         0         0         0
         0         0         0         0    0.0000    0.0000    0.0000    0.0000    1.0000    0.0000    0.0000    0.0000
         0         0         0         0         0         0         0         0         0    1.0000         0         0
         0         0         0         0         0         0         0         0         0         0    1.0000         0
         0         0         0         0         0         0         0         0         0    0.0000         0    1.0000
         0         0         0    0.0000   17.5837   -0.0000   -1.1916   -0.0000    0.4828   -0.0000   -0.0000   -0.0000
         0         0         0   -7.6686         0   18.6010         0   -1.1552         0    0.0947         0    0.1024
         0         0         0   -0.0000  -89.5127   -0.0000    1.0844    0.0000   -5.5592    0.0000   -0.0247    0.0000
         0         0         0  -29.0602         0 -259.8950         0   16.1407         0   -3.8937         0   -1.4311
         0         0         0   -0.0000 -270.5813   -0.0000   -0.0000   -0.0000  -16.8044   -0.0000   -2.0887    0.0000
         0         0         0   -1.3885         0  -12.4180         0    0.7712         0   -0.0491         0   -0.0684
];

  B = [  
   0.0000    0.0000    0.0000
         0         0         0
    0.0000    0.0000    0.0000
         0         0         0
         0         0         0
         0         0         0
   -0.0000   -0.0000    1.5326
         0         0         0
   -1.6018   -1.6018    0.1724
  -75.4059   75.4059         0
 -135.2907 -135.2907   -0.0000
    0.4128   -0.4128         0
      ];

  R = diag([25 25 25]);
  
  Q
  
  Q = diag(Q);


  K = lqr(full(A), full(B), Q, R);


  K_pd = zeros(3,12);

  % roll P
  K_pd(1,4) = -0.4;
  K_pd(2,4) = 0.4;

  % roll D
  K_pd(1,10) = -0.02;
  K_pd(2,10) = 0.02;

  % pitch P
  K_pd(1,5) = -0.4;
  K_pd(2,5) = -0.4;

  % pitch D
  K_pd(1,11) = -0.02;
  K_pd(2,11) = -0.02;

  
  K(:,1:3) = 0;
  K(:, 6:9) = 0;
  K(:, 12) = 0;
  
  K_pd(3,:) = 0;
  K(3,:) = 0;
  
  
  K
  

  cost = abs(K(1,11) - K_pd(1,11))




end