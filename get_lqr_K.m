function cost = get_lqr_K(Q)

  Q(1) = 1e-10; % ignore x-position
  Q(2) = 1e-10; % ignore y-position
  Q(3) = 1e-10; % ignore z-position


  A = [ 
         0         0         0    0.0000         0         0    1.0000    0.0000    0.0000    0.0000    0.0000    0.0000
         0         0         0         0         0   -0.0000         0    1.0000         0         0         0         0
         0         0         0         0   -0.0000   -0.0000   -0.0000   -0.0000    1.0000   -0.0000   -0.0000   -0.0000
         0         0         0         0         0         0         0         0         0    1.0000         0    0.0000
         0         0         0         0         0         0         0         0         0         0    1.0000         0
         0         0         0         0         0         0         0         0         0    0.0000         0    1.0000
         0         0         0    0.0000   17.9148   -0.0000   -1.0363   -0.0000    0.4857   -0.0000   -0.0000   -0.0000
         0         0         0   -7.6733         0   19.9955         0   -1.1982         0    0.0982         0    0.1056
         0         0         0   -0.0000  -97.4495   -0.0000    1.0672    0.0000   -5.8397    0.0000   -0.0347    0.0000
         0         0         0  -10.6655   -0.0000 -102.3656   -0.0000    6.1343   -0.0000   -1.8394    0.0000   -0.5404
         0         0         0   -0.0000 -339.9279    0.0000    0.0000   -0.0000  -20.3702    0.0000   -2.5336    0.0000
         0         0         0   -1.4792   -0.0000  -14.1971    0.0000    0.8508   -0.0000   -0.0501    0.0000   -0.0750
];

  B = [  
  
    0.0000    0.0000    0.0000
         0         0         0
   -0.0000   -0.0000   -0.0000
         0         0         0
         0         0         0
         0         0         0
   -0.0000   -0.0000    1.5338
         0         0         0
   -2.3284   -2.3284    0.1607
  -40.5972   40.5972   -0.0000
 -169.9640 -169.9640   -0.0000
    0.5947   -0.5947         0
      ];

  R = diag([25 25 25]);
  
  Q
  
  Q = diag(Q);


  K = lqr(full(A), full(B), Q, R);


  K_pd = zeros(3,12);

  % roll P
  K_pd(1,4) = -0.4;
  K_pd(2,4) = 0.4;

  % roll D
  K_pd(1,10) = -0.02;
  K_pd(2,10) = 0.02;

  % pitch P
  K_pd(1,5) = -0.4;
  K_pd(2,5) = -0.4;

  % pitch D
  K_pd(1,11) = -0.02;
  K_pd(2,11) = -0.02;

  
  K(:,1:3) = 0;
  K(:, 6:9) = 0;
  K(:, 12) = 0;
  
  K_pd(3,:) = 0;
  K(3,:) = 0;
  
  K
  

  cost = norm(K(1,4:5)-K_pd(1,4:5)) + 12.5*norm(K(1,10:11) - K_pd(1,10:11));
  
  cost




end